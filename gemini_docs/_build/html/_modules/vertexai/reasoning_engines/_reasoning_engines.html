

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>vertexai.reasoning_engines._reasoning_engines &#8212; google-cloud-aiplatform  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>

  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
          	<div class="admonition" id="python2-eol"> 
          	 As of January 1, 2020 this library no longer supports Python 2 on the latest released version. 
          	 Library versions released prior to that date will continue to be available. For more information please
          	 visit <a href="https://cloud.google.com/python/docs/python2-sunset/">Python 2 support on Google Cloud</a>.
          	</div>
            
  <h1>Source code for vertexai.reasoning_engines._reasoning_engines</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># Copyright 2023 Google LLC</span>
<span class="c1">#</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#     http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>
<span class="c1">#</span>
<span class="kn">import</span> <span class="nn">abc</span>
<span class="kn">import</span> <span class="nn">inspect</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">tarfile</span>
<span class="kn">import</span> <span class="nn">typing</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Protocol</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">google.cloud.aiplatform</span> <span class="kn">import</span> <span class="n">base</span>
<span class="kn">from</span> <span class="nn">google.cloud.aiplatform</span> <span class="kn">import</span> <span class="n">initializer</span>
<span class="kn">from</span> <span class="nn">google.cloud.aiplatform</span> <span class="kn">import</span> <span class="n">utils</span> <span class="k">as</span> <span class="n">aip_utils</span>
<span class="kn">from</span> <span class="nn">google.cloud.aiplatform_v1beta1</span> <span class="kn">import</span> <span class="n">types</span>
<span class="kn">from</span> <span class="nn">vertexai.reasoning_engines</span> <span class="kn">import</span> <span class="n">_utils</span>


<span class="n">_LOGGER</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">Logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="n">_SUPPORTED_PYTHON_VERSIONS</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;3.8&quot;</span><span class="p">,</span> <span class="s2">&quot;3.9&quot;</span><span class="p">,</span> <span class="s2">&quot;3.10&quot;</span><span class="p">,</span> <span class="s2">&quot;3.11&quot;</span><span class="p">)</span>
<span class="n">_DEFAULT_GCS_DIR_NAME</span> <span class="o">=</span> <span class="s2">&quot;reasoning_engine&quot;</span>
<span class="n">_BLOB_FILENAME</span> <span class="o">=</span> <span class="s2">&quot;reasoning_engine.pkl&quot;</span>
<span class="n">_REQUIREMENTS_FILE</span> <span class="o">=</span> <span class="s2">&quot;requirements.txt&quot;</span>
<span class="n">_EXTRA_PACKAGES_FILE</span> <span class="o">=</span> <span class="s2">&quot;dependencies.tar.gz&quot;</span>


<div class="viewcode-block" id="Queryable"><a class="viewcode-back" href="../../../vertexai/services.html#vertexai.preview.reasoning_engines.Queryable">[docs]</a><span class="nd">@typing</span><span class="o">.</span><span class="n">runtime_checkable</span>
<span class="k">class</span> <span class="nc">Queryable</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Protocol for Reasoning Engine applications that can be queried.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="Queryable.query"><a class="viewcode-back" href="../../../vertexai/services.html#vertexai.preview.reasoning_engines.Queryable.query">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs the Reasoning Engine to serve the user query.&quot;&quot;&quot;</span></div></div>


<div class="viewcode-block" id="ReasoningEngine"><a class="viewcode-back" href="../../../vertexai/services.html#vertexai.preview.reasoning_engines.ReasoningEngine">[docs]</a><span class="k">class</span> <span class="nc">ReasoningEngine</span><span class="p">(</span><span class="n">base</span><span class="o">.</span><span class="n">VertexAiResourceNounWithFutureManager</span><span class="p">,</span> <span class="n">Queryable</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a Vertex AI Reasoning Engine resource.&quot;&quot;&quot;</span>
    <span class="n">client_class</span> <span class="o">=</span> <span class="n">aip_utils</span><span class="o">.</span><span class="n">ReasoningEngineClientWithOverride</span>
    <span class="n">_resource_noun</span> <span class="o">=</span> <span class="s2">&quot;reasoning_engine&quot;</span>
    <span class="n">_getter_method</span> <span class="o">=</span> <span class="s2">&quot;get_reasoning_engine&quot;</span>
    <span class="n">_list_method</span> <span class="o">=</span> <span class="s2">&quot;list_reasoning_engines&quot;</span>
    <span class="n">_delete_method</span> <span class="o">=</span> <span class="s2">&quot;delete_reasoning_engine&quot;</span>
    <span class="n">_parse_resource_name_method</span> <span class="o">=</span> <span class="s2">&quot;parse_reasoning_engine_path&quot;</span>
    <span class="n">_format_resource_name_method</span> <span class="o">=</span> <span class="s2">&quot;reasoning_engine_path&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reasoning_engine_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves a Reasoning Engine resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            reasoning_engine_name (str):</span>
<span class="sd">                Required. A fully-qualified resource name or ID such as</span>
<span class="sd">                &quot;projects/123/locations/us-central1/reasoningEngines/456&quot; or</span>
<span class="sd">                &quot;456&quot; when project and location are initialized or passed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">resource_name</span><span class="o">=</span><span class="n">reasoning_engine_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">execution_api_client</span> <span class="o">=</span> <span class="n">initializer</span><span class="o">.</span><span class="n">global_config</span><span class="o">.</span><span class="n">create_client</span><span class="p">(</span>
            <span class="n">client_class</span><span class="o">=</span><span class="n">aip_utils</span><span class="o">.</span><span class="n">ReasoningEngineExecutionClientWithOverride</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gca_resource</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_gca_resource</span><span class="p">(</span>
            <span class="n">resource_name</span><span class="o">=</span><span class="n">reasoning_engine_name</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_operation_schemas</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">resource_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Fully-qualified resource name.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gca_resource</span><span class="o">.</span><span class="n">name</span>

<div class="viewcode-block" id="ReasoningEngine.create"><a class="viewcode-back" href="../../../vertexai/services.html#vertexai.preview.reasoning_engines.ReasoningEngine.create">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">reasoning_engine</span><span class="p">:</span> <span class="n">Queryable</span><span class="p">,</span>
            <span class="o">*</span><span class="p">,</span>
            <span class="n">requirements</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">reasoning_engine_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">display_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">gcs_dir_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">_DEFAULT_GCS_DIR_NAME</span><span class="p">,</span>
            <span class="n">sys_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">extra_packages</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ReasoningEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new ReasoningEngine.</span>

<span class="sd">        The Reasoning Engine will be an instance of the `reasoning_engine` that</span>
<span class="sd">        was passed in, running remotely on Vertex AI.</span>

<span class="sd">        Sample ``src_dir`` contents (e.g. ``./user_src_dir``):</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            user_src_dir/</span>
<span class="sd">            |-- main.py</span>
<span class="sd">            |-- requirements.txt</span>
<span class="sd">            |-- user_code/</span>
<span class="sd">            |   |-- utils.py</span>
<span class="sd">            |   |-- ...</span>
<span class="sd">            |-- ...</span>

<span class="sd">        To build a Reasoning Engine:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            remote_app = ReasoningEngine.create(</span>
<span class="sd">                local_app,</span>
<span class="sd">                requirements=[</span>
<span class="sd">                    # I.e. the PyPI dependencies listed in requirements.txt</span>
<span class="sd">                    &quot;google-cloud-aiplatform==1.25.0&quot;,</span>
<span class="sd">                    &quot;langchain==0.0.242&quot;,</span>
<span class="sd">                    ...</span>
<span class="sd">                ],</span>
<span class="sd">                extra_packages=[</span>
<span class="sd">                    &quot;./user_src_dir/main.py&quot;, # a single file</span>
<span class="sd">                    &quot;./user_src_dir/user_code&quot;, # a directory</span>
<span class="sd">                    ...</span>
<span class="sd">                ],</span>
<span class="sd">            )</span>

<span class="sd">        Args:</span>
<span class="sd">            reasoning_engine (ReasoningEngineInterface):</span>
<span class="sd">                Required. The Reasoning Engine to be created.</span>
<span class="sd">            requirements (Union[str, Sequence[str]]):</span>
<span class="sd">                Optional. The set of PyPI dependencies needed. It can either be</span>
<span class="sd">                the path to a single file (requirements.txt), or an ordered list</span>
<span class="sd">                of strings corresponding to each line of the requirements file.</span>
<span class="sd">            reasoning_engine_name (str):</span>
<span class="sd">                Optional. A fully-qualified resource name or ID such as</span>
<span class="sd">                &quot;projects/123/locations/us-central1/reasoningEngines/456&quot; or</span>
<span class="sd">                &quot;456&quot; when project and location are initialized or passed. If</span>
<span class="sd">                specifying the ID, it should be 4-63 characters. Valid</span>
<span class="sd">                characters are lowercase letters, numbers and hyphens (&quot;-&quot;),</span>
<span class="sd">                and it should start with a number or a lower-case letter. If not</span>
<span class="sd">                provided, Vertex AI will generate a value for this ID.</span>
<span class="sd">            display_name (str):</span>
<span class="sd">                Optional. The user-defined name of the Reasoning Engine.</span>
<span class="sd">                The name can be up to 128 characters long and can comprise any</span>
<span class="sd">                UTF-8 character.</span>
<span class="sd">            description (str):</span>
<span class="sd">                Optional. The description of the Reasoning Engine.</span>
<span class="sd">            gcs_dir_name (CreateReasoningEngineOptions):</span>
<span class="sd">                Optional. The GCS bucket directory under `staging_bucket` to</span>
<span class="sd">                use for staging the artifacts needed.</span>
<span class="sd">            sys_version (str):</span>
<span class="sd">                Optional. The Python system version used. Currently supports any</span>
<span class="sd">                of &quot;3.8&quot;, &quot;3.9&quot;, &quot;3.10&quot;, &quot;3.11&quot;. If not specified, it defaults</span>
<span class="sd">                to the &quot;{major}.{minor}&quot; attributes of sys.version_info.</span>
<span class="sd">            extra_packages (Sequence[str]):</span>
<span class="sd">                Optional. The set of extra user-provided packages (if any).</span>

<span class="sd">        Returns:</span>
<span class="sd">            ReasoningEngine: The Reasoning Engine that was created.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If `sys.version` is not supported by ReasoningEngine.</span>
<span class="sd">            ValueError: If the `project` was not set using `vertexai.init`.</span>
<span class="sd">            ValueError: If the `location` was not set using `vertexai.init`.</span>
<span class="sd">            ValueError: If the `staging_bucket` was not set using vertexai.init.</span>
<span class="sd">            ValueError: If the `staging_bucket` does not start with &quot;gs://&quot;.</span>
<span class="sd">            FileNotFoundError: If `extra_packages` includes a file or directory</span>
<span class="sd">            that does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">sys_version</span><span class="p">:</span>
            <span class="n">sys_version</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">major</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">minor</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">sys_version</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_SUPPORTED_PYTHON_VERSIONS</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unsupported python version: </span><span class="si">{</span><span class="n">sys_version</span><span class="si">}</span><span class="s2">. ReasoningEngine &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;only supports </span><span class="si">{</span><span class="n">_SUPPORTED_PYTHON_VERSIONS</span><span class="si">}</span><span class="s2"> at the moment.&quot;</span>
            <span class="p">)</span>
        <span class="n">sdk_resource</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="n">base</span><span class="o">.</span><span class="n">VertexAiResourceNounWithFutureManager</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">sdk_resource</span><span class="p">,</span>
            <span class="n">resource_name</span><span class="o">=</span><span class="n">reasoning_engine_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">staging_bucket</span> <span class="o">=</span> <span class="n">initializer</span><span class="o">.</span><span class="n">global_config</span><span class="o">.</span><span class="n">staging_bucket</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">staging_bucket</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Please provide a `staging_bucket` in `vertexai.init(...)`&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">staging_bucket</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;gs://&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">staging_bucket</span><span class="si">=}</span><span class="s2"> must start with `gs://`&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span>
                <span class="nb">hasattr</span><span class="p">(</span><span class="n">reasoning_engine</span><span class="p">,</span> <span class="s2">&quot;query&quot;</span><span class="p">)</span>
                <span class="ow">and</span> <span class="nb">callable</span><span class="p">(</span><span class="n">reasoning_engine</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
            <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;reasoning_engine does not have a callable method named `query`&quot;</span>
            <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">reasoning_engine</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Invalid query signature. This might be due to a missing &quot;</span>
                <span class="s2">&quot;`self` argument in the reasoning_engine.query method.&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">requirements</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reading requirements from </span><span class="si">{</span><span class="n">requirements</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">requirements</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">requirements</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
                    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Read the following lines: </span><span class="si">{</span><span class="n">requirements</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">IOError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Failed to read requirements from </span><span class="si">{</span><span class="n">requirements</span><span class="si">=}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
        <span class="n">requirements</span> <span class="o">=</span> <span class="n">requirements</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="n">extra_packages</span> <span class="o">=</span> <span class="n">extra_packages</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">extra_package</span> <span class="ow">in</span> <span class="n">extra_packages</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">extra_package</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Extra package specified but not found: </span><span class="si">{</span><span class="n">extra_package</span><span class="si">=}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
        <span class="c1"># Prepares the Reasoning Engine for creation in Vertex AI.</span>
        <span class="c1"># This involves packaging and uploading the artifacts for</span>
        <span class="c1"># reasoning_engine, requirements and extra_packages to</span>
        <span class="c1"># `staging_bucket/gcs_dir_name`.</span>
        <span class="n">_prepare</span><span class="p">(</span>
            <span class="n">reasoning_engine</span><span class="o">=</span><span class="n">reasoning_engine</span><span class="p">,</span>
            <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
            <span class="n">project</span><span class="o">=</span><span class="n">sdk_resource</span><span class="o">.</span><span class="n">project</span><span class="p">,</span>
            <span class="n">location</span><span class="o">=</span><span class="n">sdk_resource</span><span class="o">.</span><span class="n">location</span><span class="p">,</span>
            <span class="n">staging_bucket</span><span class="o">=</span><span class="n">staging_bucket</span><span class="p">,</span>
            <span class="n">gcs_dir_name</span><span class="o">=</span><span class="n">gcs_dir_name</span><span class="p">,</span>
            <span class="n">extra_packages</span><span class="o">=</span><span class="n">extra_packages</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">package_spec</span> <span class="o">=</span> <span class="n">types</span><span class="o">.</span><span class="n">ReasoningEngineSpec</span><span class="o">.</span><span class="n">PackageSpec</span><span class="p">(</span>
            <span class="n">python_version</span><span class="o">=</span><span class="n">sys_version</span><span class="p">,</span>
            <span class="n">pickle_object_gcs_uri</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">staging_bucket</span><span class="p">,</span>
                <span class="n">gcs_dir_name</span><span class="p">,</span>
                <span class="n">_BLOB_FILENAME</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">dependency_files_gcs_uri</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">staging_bucket</span><span class="p">,</span>
                <span class="n">gcs_dir_name</span><span class="p">,</span>
                <span class="n">_EXTRA_PACKAGES_FILE</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">requirements</span><span class="p">:</span>
            <span class="n">package_spec</span><span class="o">.</span><span class="n">requirements_gcs_uri</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">staging_bucket</span><span class="p">,</span>
                <span class="n">gcs_dir_name</span><span class="p">,</span>
                <span class="n">_REQUIREMENTS_FILE</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">reasoning_engine_spec</span> <span class="o">=</span> <span class="n">types</span><span class="o">.</span><span class="n">ReasoningEngineSpec</span><span class="p">(</span>
            <span class="n">package_spec</span><span class="o">=</span><span class="n">package_spec</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">schema_dict</span> <span class="o">=</span> <span class="n">_utils</span><span class="o">.</span><span class="n">generate_schema</span><span class="p">(</span>
                <span class="n">reasoning_engine</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>
                <span class="n">schema_name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">reasoning_engine</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">_query&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># Note: we append the schema post-initialization to avoid upstream</span>
            <span class="c1"># issues in marshaling the data that would result in errors like:</span>
            <span class="c1"># ../../../../../proto/marshal/rules/struct.py:140: in to_proto</span>
            <span class="c1">#  self._marshal.to_proto(struct_pb2.Value, v) for k, v in value.items()</span>
            <span class="c1"># E   AttributeError: &#39;list&#39; object has no attribute &#39;items&#39;</span>
            <span class="n">reasoning_engine_spec</span><span class="o">.</span><span class="n">class_methods</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_utils</span><span class="o">.</span><span class="n">to_proto</span><span class="p">(</span><span class="n">schema_dict</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;failed to generate schema: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">operation_future</span> <span class="o">=</span> <span class="n">sdk_resource</span><span class="o">.</span><span class="n">api_client</span><span class="o">.</span><span class="n">create_reasoning_engine</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">initializer</span><span class="o">.</span><span class="n">global_config</span><span class="o">.</span><span class="n">common_location_path</span><span class="p">(</span>
                <span class="n">project</span><span class="o">=</span><span class="n">sdk_resource</span><span class="o">.</span><span class="n">project</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="n">sdk_resource</span><span class="o">.</span><span class="n">location</span>
            <span class="p">),</span>
            <span class="n">reasoning_engine</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">ReasoningEngine</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">reasoning_engine_name</span><span class="p">,</span>
                <span class="n">display_name</span><span class="o">=</span><span class="n">display_name</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                <span class="n">spec</span><span class="o">=</span><span class="n">reasoning_engine_spec</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">log_create_with_lro</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">operation_future</span><span class="p">)</span>
        <span class="n">created_resource</span> <span class="o">=</span> <span class="n">operation_future</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">log_create_complete</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">created_resource</span><span class="p">,</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_resource_noun</span><span class="p">,</span>
            <span class="n">module_name</span><span class="o">=</span><span class="s2">&quot;vertexai.preview.reasoning_engines&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># We use `._get_gca_resource(...)` instead of `created_resource` to</span>
        <span class="c1"># fully instantiate the attributes of the reasoning engine.</span>
        <span class="n">sdk_resource</span><span class="o">.</span><span class="n">_gca_resource</span> <span class="o">=</span> <span class="n">sdk_resource</span><span class="o">.</span><span class="n">_get_gca_resource</span><span class="p">(</span>
            <span class="n">resource_name</span><span class="o">=</span><span class="n">created_resource</span><span class="o">.</span><span class="n">name</span>
        <span class="p">)</span>
        <span class="n">sdk_resource</span><span class="o">.</span><span class="n">execution_api_client</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">initializer</span><span class="o">.</span><span class="n">global_config</span><span class="o">.</span><span class="n">create_client</span><span class="p">(</span>
                <span class="n">client_class</span><span class="o">=</span><span class="n">aip_utils</span><span class="o">.</span><span class="n">ReasoningEngineExecutionClientWithOverride</span><span class="p">,</span>
                <span class="n">credentials</span><span class="o">=</span><span class="n">sdk_resource</span><span class="o">.</span><span class="n">credentials</span><span class="p">,</span>
                <span class="n">location_override</span><span class="o">=</span><span class="n">sdk_resource</span><span class="o">.</span><span class="n">location</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">sdk_resource</span><span class="o">.</span><span class="n">_operation_schemas</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">sdk_resource</span></div>

<div class="viewcode-block" id="ReasoningEngine.operation_schemas"><a class="viewcode-back" href="../../../vertexai/services.html#vertexai.preview.reasoning_engines.ReasoningEngine.operation_schemas">[docs]</a>    <span class="k">def</span> <span class="nf">operation_schemas</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">_utils</span><span class="o">.</span><span class="n">JsonDict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the (Open)API schemas for the Reasoning Engine.&quot;&quot;&quot;</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="n">_utils</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_gca_resource</span><span class="o">.</span><span class="n">spec</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operation_schemas</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_operation_schemas</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;classMethods&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operation_schemas</span></div>

<div class="viewcode-block" id="ReasoningEngine.query"><a class="viewcode-back" href="../../../vertexai/services.html#vertexai.preview.reasoning_engines.ReasoningEngine.query">[docs]</a>    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_utils</span><span class="o">.</span><span class="n">JsonDict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs the Reasoning Engine to serve the user query.</span>

<span class="sd">        This will be based on the `.query(...)` method of the python object that</span>
<span class="sd">        was passed in when creating the Reasoning Engine.</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs:</span>
<span class="sd">                Optional. The arguments of the `.query(...)` method.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict[str, Any]: The response from serving the user query.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execution_api_client</span><span class="o">.</span><span class="n">query_reasoning_engine</span><span class="p">(</span>
            <span class="n">request</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">QueryReasoningEngineRequest</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_name</span><span class="p">,</span>
                <span class="nb">input</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">_utils</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;output&quot;</span> <span class="ow">in</span> <span class="n">output</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">output</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;output&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">output</span></div></div>


<span class="k">def</span> <span class="nf">_prepare</span><span class="p">(</span>
        <span class="n">reasoning_engine</span><span class="p">:</span> <span class="n">Queryable</span><span class="p">,</span>
        <span class="n">requirements</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">project</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">staging_bucket</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">gcs_dir_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">extra_packages</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prepares the reasoning engine for creation in Vertex AI.</span>

<span class="sd">    This involves packaging and uploading the artifacts to Cloud Storage.</span>

<span class="sd">    Args:</span>
<span class="sd">        reasoning_engine: The reasoning engine to be prepared.</span>
<span class="sd">        requirements (Sequence[str]): The set of PyPI dependencies needed.</span>
<span class="sd">        project (str): The project for the staging bucket.</span>
<span class="sd">        location (str): The location for the staging bucket.</span>
<span class="sd">        staging_bucket (str): The staging bucket name in the form &quot;gs://...&quot;.</span>
<span class="sd">        gcs_dir_name (str): The GCS bucket directory under `staging_bucket` to</span>
<span class="sd">            use for staging the artifacts needed.</span>
<span class="sd">        extra_packages (Sequence[str]): The set of extra user-provided packages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">google.cloud.exceptions</span> <span class="kn">import</span> <span class="n">NotFound</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">NotFound</span> <span class="o">=</span> <span class="ne">Exception</span>
    <span class="n">storage</span> <span class="o">=</span> <span class="n">_utils</span><span class="o">.</span><span class="n">_import_cloud_storage_or_raise</span><span class="p">()</span>
    <span class="n">cloudpickle</span> <span class="o">=</span> <span class="n">_utils</span><span class="o">.</span><span class="n">_import_cloudpickle_or_raise</span><span class="p">()</span>
    <span class="n">storage_client</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="n">project</span><span class="p">)</span>
    <span class="n">staging_bucket</span> <span class="o">=</span> <span class="n">staging_bucket</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;gs://&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">gcs_bucket</span> <span class="o">=</span> <span class="n">storage_client</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">staging_bucket</span><span class="p">)</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using bucket </span><span class="si">{</span><span class="n">staging_bucket</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">NotFound</span><span class="p">:</span>
        <span class="n">new_bucket</span> <span class="o">=</span> <span class="n">storage_client</span><span class="o">.</span><span class="n">bucket</span><span class="p">(</span><span class="n">staging_bucket</span><span class="p">)</span>
        <span class="n">gcs_bucket</span> <span class="o">=</span> <span class="n">storage_client</span><span class="o">.</span><span class="n">create_bucket</span><span class="p">(</span><span class="n">new_bucket</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="n">location</span><span class="p">)</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating bucket </span><span class="si">{</span><span class="n">staging_bucket</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">location</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">blob</span> <span class="o">=</span> <span class="n">gcs_bucket</span><span class="o">.</span><span class="n">blob</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">gcs_dir_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">_BLOB_FILENAME</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">blob</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">cloudpickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">reasoning_engine</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
    <span class="n">dir_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;gs://</span><span class="si">{</span><span class="n">staging_bucket</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">gcs_dir_name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Writing to </span><span class="si">{</span><span class="n">dir_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">_BLOB_FILENAME</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">blob</span> <span class="o">=</span> <span class="n">gcs_bucket</span><span class="o">.</span><span class="n">blob</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">gcs_dir_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">_REQUIREMENTS_FILE</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">requirements</span><span class="p">:</span>
        <span class="n">blob</span><span class="o">.</span><span class="n">upload_from_string</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">requirements</span><span class="p">))</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Writing to </span><span class="si">{</span><span class="n">dir_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">_REQUIREMENTS_FILE</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating in-memory tarfile of extra_packages&quot;</span><span class="p">)</span>
    <span class="n">tar_fileobj</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
    <span class="k">with</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">fileobj</span><span class="o">=</span><span class="n">tar_fileobj</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w|gz&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">tar</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">extra_packages</span><span class="p">:</span>
            <span class="n">tar</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="n">tar_fileobj</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">blob</span> <span class="o">=</span> <span class="n">gcs_bucket</span><span class="o">.</span><span class="n">blob</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">gcs_dir_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">_EXTRA_PACKAGES_FILE</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">blob</span><span class="o">.</span><span class="n">upload_from_string</span><span class="p">(</span><span class="n">tar_fileobj</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Writing to </span><span class="si">{</span><span class="n">dir_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">_EXTRA_PACKAGES_FILE</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">google-cloud-aiplatform</a></h1>



<p class="blurb">Google Cloud Client Libraries for google-cloud-aiplatform</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=googleapis&repo=python-aiplatform&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../vertexai/services.html">Vertex AI SDK</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2019, Google.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
    </div>

    
    <a href="https://github.com/googleapis/python-aiplatform" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>