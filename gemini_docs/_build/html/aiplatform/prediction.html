

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Custom Prediction Routine and Local Predict &#8212; google-cloud-aiplatform  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Services for Google Cloud Aiplatform v1 API" href="../aiplatform_v1/services.html" />
    <link rel="prev" title="Types for Google Cloud Aiplatform V1beta1 Schema Trainingjob Definition v1beta1 API" href="definition_v1beta1.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>

  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
          	<div class="admonition" id="python2-eol"> 
          	 As of January 1, 2020 this library no longer supports Python 2 on the latest released version. 
          	 Library versions released prior to that date will continue to be available. For more information please
          	 visit <a href="https://cloud.google.com/python/docs/python2-sunset/">Python 2 support on Google Cloud</a>.
          	</div>
            
  <section id="module-google.cloud.aiplatform.prediction">
<span id="custom-prediction-routine-and-local-predict"></span><h1>Custom Prediction Routine and Local Predict<a class="headerlink" href="#module-google.cloud.aiplatform.prediction" title="Permalink to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.DefaultSerializer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">google.cloud.aiplatform.prediction.</span></span><span class="sig-name descname"><span class="pre">DefaultSerializer</span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/serializer.html#DefaultSerializer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.DefaultSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.aiplatform.prediction.Serializer" title="google.cloud.aiplatform.prediction.serializer.Serializer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Serializer</span></code></a></p>
<p>Default serializer for serialization and deserialization for prediction.</p>
<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.DefaultSerializer.deserialize">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">deserialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/serializer.html#DefaultSerializer.deserialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.DefaultSerializer.deserialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserializes the request data. Invoked before predict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>Any</em>) – Required. The request data sent to the application.</p></li>
<li><p><strong>content_type</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The specified content type of the request.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>HTTPException</strong> – If Json deserialization failed or the specified content type is not
    supported.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.DefaultSerializer.serialize">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">serialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prediction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">accept</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/serializer.html#DefaultSerializer.serialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.DefaultSerializer.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes the prediction results. Invoked after predict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prediction</strong> (<em>Any</em>) – Required. The generated prediction to be sent back to clients.</p></li>
<li><p><strong>accept</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The specified content type of the response.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>HTTPException</strong> – If Json serialization failed or the specified accept is not supported.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.Handler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">google.cloud.aiplatform.prediction.</span></span><span class="sig-name descname"><span class="pre">Handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artifacts_uri</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Type" title="(in Python v3.7)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#google.cloud.aiplatform.prediction.Predictor" title="google.cloud.aiplatform.prediction.predictor.Predictor"><span class="pre">Predictor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/handler.html#Handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.Handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://python.readthedocs.io/en/latest/library/abc.html#abc.ABC" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Interface for Handler class to handle prediction requests.</p>
<p>Initializes a Handler instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>artifacts_uri</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Required. The value of the environment variable AIP_STORAGE_URI.</p></li>
<li><p><strong>predictor</strong> (<a class="reference internal" href="../aiplatform_v1/types_.html#google.cloud.aiplatform_v1.types.Event.Type" title="google.cloud.aiplatform_v1.types.Event.Type"><em>Type</em></a><em>[</em><a class="reference internal" href="#google.cloud.aiplatform.prediction.Predictor" title="google.cloud.aiplatform.prediction.Predictor"><em>Predictor</em></a><em>]</em>) – Optional. The Predictor class this handler uses to initiate predictor
instance if given.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.Handler.handle">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/handler.html#Handler.handle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.Handler.handle" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles a prediction request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> (<em>Request</em>) – The request sent to the application.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response of the prediction request.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalEndpoint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">google.cloud.aiplatform.prediction.</span></span><span class="sig-name descname"><span class="pre">LocalEndpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">serving_container_image_uri</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">artifact_uri</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_predict_route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_health_route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Sequence" title="(in Python v3.7)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Sequence" title="(in Python v3.7)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_environment_variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Dict" title="(in Python v3.7)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_ports</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Sequence" title="(in Python v3.7)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credential_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu_device_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.List" title="(in Python v3.7)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu_capabilities</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.List" title="(in Python v3.7)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.List" title="(in Python v3.7)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_ready_timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_ready_check_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_endpoint.html#LocalEndpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalEndpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class that represents a local endpoint.</p>
<p>Creates a local endpoint instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>serving_container_image_uri</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Required. The URI of the Model serving container.</p></li>
<li><p><strong>artifact_uri</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The path to the directory containing the Model artifact and any of its
supporting files. The path is either a GCS uri or the path to a local directory.
If this parameter is set to a GCS uri:
(1) <code class="docutils literal notranslate"><span class="pre">credential_path</span></code> must be specified for local prediction.
(2) The GCS uri will be passed directly to <code class="docutils literal notranslate"><span class="pre">Predictor.load</span></code>.
If this parameter is a local directory:
(1) The directory will be mounted to a default temporary model path.
(2) The mounted path will be passed to <code class="docutils literal notranslate"><span class="pre">Predictor.load</span></code>.</p></li>
<li><p><strong>serving_container_predict_route</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. An HTTP path to send prediction requests to the container, and
which must be supported by it. If not specified a default HTTP path will
be used by Vertex AI.</p></li>
<li><p><strong>serving_container_health_route</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. An HTTP path to send health check requests to the container, and which
must be supported by it. If not specified a standard HTTP path will be
used by Vertex AI.</p></li>
<li><p><strong>serving_container_command</strong> (<em>Sequence</em><em>[</em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Optional. The command with which the container is run. Not executed within a
shell. The Docker image’s ENTRYPOINT is used if this is not provided.
Variable references $(VAR_NAME) are expanded using the container’s
environment. If a variable cannot be resolved, the reference in the
input string will be unchanged. The $(VAR_NAME) syntax can be escaped
with a double $$, ie: $$(VAR_NAME). Escaped references will never be
expanded, regardless of whether the variable exists or not.</p></li>
<li><p><strong>serving_container_args</strong> – (Sequence[str]):
Optional. The arguments to the command. The Docker image’s CMD is used if this is
not provided. Variable references $(VAR_NAME) are expanded using the
container’s environment. If a variable cannot be resolved, the reference
in the input string will be unchanged. The $(VAR_NAME) syntax can be
escaped with a double $$, ie: $$(VAR_NAME). Escaped references will
never be expanded, regardless of whether the variable exists or not.</p></li>
<li><p><strong>serving_container_environment_variables</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Optional. The environment variables that are to be present in the container.
Should be a dictionary where keys are environment variable names
and values are environment variable values for those names.</p></li>
<li><p><strong>serving_container_ports</strong> (<em>Sequence</em><em>[</em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) – Optional. Declaration of ports that are exposed by the container. This field is
primarily informational, it gives Vertex AI information about the
network connections the container uses. Listing or not a port here has
no impact on whether the port is actually exposed, any port listening on
the default “0.0.0.0” address inside a container will be accessible from
the network.</p></li>
<li><p><strong>credential_path</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The path to the credential key that will be mounted to the container.
If it’s unset, the environment variable, <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code>, will
be used if set.</p></li>
<li><p><strong>host_port</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The port on the host that the port, <code class="docutils literal notranslate"><span class="pre">AIP_HTTP_PORT</span></code>, inside the container
will be exposed as. If it’s unset, a random host port will be assigned.</p></li>
<li><p><strong>gpu_count</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Optional. Number of devices to request. Set to -1 to request all available devices.
To use GPU, set either <code class="docutils literal notranslate"><span class="pre">gpu_count</span></code> or <code class="docutils literal notranslate"><span class="pre">gpu_device_ids</span></code>.
The default value is -1 if <code class="docutils literal notranslate"><span class="pre">gpu_capabilities</span></code> is set but both <code class="docutils literal notranslate"><span class="pre">gpu_count</span></code> and
<code class="docutils literal notranslate"><span class="pre">gpu_device_ids</span></code> are not set.</p></li>
<li><p><strong>gpu_device_ids</strong> (<em>List</em><em>[</em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Optional. This parameter corresponds to <code class="docutils literal notranslate"><span class="pre">NVIDIA_VISIBLE_DEVICES</span></code> in the NVIDIA
Runtime.
To use GPU, set either <code class="docutils literal notranslate"><span class="pre">gpu_count</span></code> or <code class="docutils literal notranslate"><span class="pre">gpu_device_ids</span></code>.</p></li>
<li><p><strong>gpu_capabilities</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em><em>]</em>) – Optional. This parameter corresponds to <code class="docutils literal notranslate"><span class="pre">NVIDIA_DRIVER_CAPABILITIES</span></code> in the NVIDIA
Runtime. The outer list acts like an OR, and each sub-list acts like an AND. The
driver will try to satisfy one of the sub-lists.
Available capabilities for the NVIDIA driver can be found in
<a class="reference external" href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/user-guide.html#driver-capabilities">https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/user-guide.html#driver-capabilities</a>.
The default value is <code class="docutils literal notranslate"><span class="pre">[[&quot;utility&quot;,</span> <span class="pre">&quot;compute&quot;]]</span></code> if <code class="docutils literal notranslate"><span class="pre">gpu_count</span></code> or <code class="docutils literal notranslate"><span class="pre">gpu_device_ids</span></code> is
set.</p></li>
<li><p><strong>container_ready_timeout</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Optional. The timeout in second used for starting the container or succeeding the
first health check.</p></li>
<li><p><strong>container_ready_check_interval</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Optional. The time interval in second to check if the container is ready or the
first health check succeeds.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://python.readthedocs.io/en/latest/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If both <code class="docutils literal notranslate"><span class="pre">gpu_count</span></code> and <code class="docutils literal notranslate"><span class="pre">gpu_device_ids</span></code> are set.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalEndpoint.__del__">
<span class="sig-name descname"><span class="pre">__del__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_endpoint.html#LocalEndpoint.__del__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalEndpoint.__del__" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the container when the instance is about to be destroyed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalEndpoint.__enter__">
<span class="sig-name descname"><span class="pre">__enter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_endpoint.html#LocalEndpoint.__enter__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalEndpoint.__enter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Enters the runtime context related to this object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalEndpoint.__exit__">
<span class="sig-name descname"><span class="pre">__exit__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_traceback</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_endpoint.html#LocalEndpoint.__exit__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalEndpoint.__exit__" title="Permalink to this definition">¶</a></dt>
<dd><p>Exits the runtime context related to this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exc_type</strong> – Optional. Class of the exception.</p></li>
<li><p><strong>exc_value</strong> – Optional. Type of the exception.</p></li>
<li><p><strong>exc_traceback</strong> – Optional. Traceback that has the information of the exception.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalEndpoint.get_container_status">
<span class="sig-name descname"><span class="pre">get_container_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_endpoint.html#LocalEndpoint.get_container_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalEndpoint.get_container_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the container status.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The container status. One of restarting, running, paused, exited.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalEndpoint.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Dict" title="(in Python v3.7)"><span class="pre">Dict</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#bool" title="(in Python v3.7)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_endpoint.html#LocalEndpoint.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalEndpoint.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes a prediction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request</strong> (<em>Any</em>) – Optional. The request sent to the container.</p></li>
<li><p><strong>request_file</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The path to a request file sent to the container.</p></li>
<li><p><strong>headers</strong> (<em>Dict</em>) – Optional. The headers in the prediction request.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Required. Whether or not print logs if any.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The prediction response.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://python.readthedocs.io/en/latest/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><strong>RuntimeError</strong></a> – If the local endpoint has been stopped.</p></li>
<li><p><a class="reference external" href="https://python.readthedocs.io/en/latest/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If both <code class="docutils literal notranslate"><span class="pre">request</span></code> and <code class="docutils literal notranslate"><span class="pre">request_file</span></code> are specified, both
    <code class="docutils literal notranslate"><span class="pre">request</span></code> and <code class="docutils literal notranslate"><span class="pre">request_file</span></code> are not provided, or <code class="docutils literal notranslate"><span class="pre">request_file</span></code>
    is specified but does not exist.</p></li>
<li><p><strong>requests.exception.RequestException</strong> – If the request fails with an exception.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalEndpoint.print_container_logs">
<span class="sig-name descname"><span class="pre">print_container_logs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_all</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#bool" title="(in Python v3.7)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/constants.html#None" title="(in Python v3.7)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_endpoint.html#LocalEndpoint.print_container_logs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalEndpoint.print_container_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints container logs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_all</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Required. If True, prints all logs since the container starts.</p></li>
<li><p><strong>message</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The message to be printed before printing the logs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalEndpoint.print_container_logs_if_container_is_not_running">
<span class="sig-name descname"><span class="pre">print_container_logs_if_container_is_not_running</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_all</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#bool" title="(in Python v3.7)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/constants.html#None" title="(in Python v3.7)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_endpoint.html#LocalEndpoint.print_container_logs_if_container_is_not_running"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalEndpoint.print_container_logs_if_container_is_not_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints container logs if the container is not in “running” status.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_all</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Required. If True, prints all logs since the container starts.</p></li>
<li><p><strong>message</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The message to be printed before printing the logs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalEndpoint.run_health_check">
<span class="sig-name descname"><span class="pre">run_health_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#bool" title="(in Python v3.7)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_endpoint.html#LocalEndpoint.run_health_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalEndpoint.run_health_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a health check.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>verbose</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Required. Whether or not print logs if any.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The health check response.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://python.readthedocs.io/en/latest/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><strong>RuntimeError</strong></a> – If the local endpoint has been stopped.</p></li>
<li><p><strong>requests.exception.RequestException</strong> – If the request fails with an exception.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalEndpoint.serve">
<span class="sig-name descname"><span class="pre">serve</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_endpoint.html#LocalEndpoint.serve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalEndpoint.serve" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts running the container and serves the traffic locally.</p>
<p>An environment variable, <code class="docutils literal notranslate"><span class="pre">GOOGLE_CLOUD_PROJECT</span></code>, will be set to the project in the global config.
This is required if the credentials file does not have project specified and used to
recognize the project by the Cloud Storage client.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>DockerError</strong> – If the container is not ready or health checks do not succeed after the
    timeout.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalEndpoint.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/constants.html#None" title="(in Python v3.7)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_endpoint.html#LocalEndpoint.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalEndpoint.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Explicitly stops the container.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">google.cloud.aiplatform.prediction.</span></span><span class="sig-name descname"><span class="pre">LocalModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">serving_container_spec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../aiplatform_v1/types_.html#google.cloud.aiplatform_v1.types.ModelContainerSpec" title="google.cloud.aiplatform_v1.types.model.ModelContainerSpec"><span class="pre">ModelContainerSpec</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_image_uri</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_predict_route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_health_route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Sequence" title="(in Python v3.7)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Sequence" title="(in Python v3.7)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_environment_variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Dict" title="(in Python v3.7)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_ports</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Sequence" title="(in Python v3.7)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_grpc_ports</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Sequence" title="(in Python v3.7)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_deployment_timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_shared_memory_size_mb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_startup_probe_exec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Sequence" title="(in Python v3.7)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_startup_probe_period_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_startup_probe_timeout_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_health_probe_exec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Sequence" title="(in Python v3.7)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_health_probe_period_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serving_container_health_probe_timeout_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_model.html#LocalModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class that represents a local model.</p>
<p>Creates a local model instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>serving_container_spec</strong> (<em>aiplatform.gapic.ModelContainerSpec</em>) – Optional. The container spec of the LocalModel instance.</p></li>
<li><p><strong>serving_container_image_uri</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The URI of the Model serving container.</p></li>
<li><p><strong>serving_container_predict_route</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. An HTTP path to send prediction requests to the container, and
which must be supported by it. If not specified a default HTTP path will
be used by Vertex AI.</p></li>
<li><p><strong>serving_container_health_route</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. An HTTP path to send health check requests to the container, and which
must be supported by it. If not specified a standard HTTP path will be
used by Vertex AI.</p></li>
<li><p><strong>serving_container_command</strong> (<em>Sequence</em><em>[</em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Optional. The command with which the container is run. Not executed within a
shell. The Docker image’s ENTRYPOINT is used if this is not provided.
Variable references $(VAR_NAME) are expanded using the container’s
environment. If a variable cannot be resolved, the reference in the
input string will be unchanged. The $(VAR_NAME) syntax can be escaped
with a double $$, ie: $$(VAR_NAME). Escaped references will never be
expanded, regardless of whether the variable exists or not.</p></li>
<li><p><strong>serving_container_args</strong> – (Sequence[str]):
Optional. The arguments to the command. The Docker image’s CMD is used if this is
not provided. Variable references $(VAR_NAME) are expanded using the
container’s environment. If a variable cannot be resolved, the reference
in the input string will be unchanged. The $(VAR_NAME) syntax can be
escaped with a double $$, ie: $$(VAR_NAME). Escaped references will
never be expanded, regardless of whether the variable exists or not.</p></li>
<li><p><strong>serving_container_environment_variables</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Optional. The environment variables that are to be present in the container.
Should be a dictionary where keys are environment variable names
and values are environment variable values for those names.</p></li>
<li><p><strong>serving_container_ports</strong> (<em>Sequence</em><em>[</em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) – Optional. Declaration of ports that are exposed by the container. This field is
primarily informational, it gives Vertex AI information about the
network connections the container uses. Listing or not a port here has
no impact on whether the port is actually exposed, any port listening on
the default “0.0.0.0” address inside a container will be accessible from
the network.</p></li>
<li><p><strong>serving_container_grpc_ports</strong> – Optional[Sequence[int]]=None,
Declaration of ports that are exposed by the container. Vertex AI sends gRPC
prediction requests that it receives to the first port on this list. Vertex
AI also sends liveness and health checks to this port.
If you do not specify this field, gRPC requests to the container will be
disabled.
Vertex AI does not use ports other than the first one listed. This field
corresponds to the <cite>ports</cite> field of the Kubernetes Containers v1 core API.</p></li>
<li><p><strong>serving_container_deployment_timeout</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Optional. Deployment timeout in seconds.</p></li>
<li><p><strong>serving_container_shared_memory_size_mb</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Optional. The amount of the VM memory to reserve as the shared
memory for the model in megabytes.</p></li>
<li><p><strong>serving_container_startup_probe_exec</strong> (<em>Sequence</em><em>[</em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Optional. Exec specifies the action to take. Used by startup
probe. An example of this argument would be
[“cat”, “/tmp/healthy”]</p></li>
<li><p><strong>serving_container_startup_probe_period_seconds</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Optional. How often (in seconds) to perform the startup probe.
Default to 10 seconds. Minimum value is 1.</p></li>
<li><p><strong>serving_container_startup_probe_timeout_seconds</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Optional. Number of seconds after which the startup probe times
out. Defaults to 1 second. Minimum value is 1.</p></li>
<li><p><strong>serving_container_health_probe_exec</strong> (<em>Sequence</em><em>[</em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Optional. Exec specifies the action to take. Used by health
probe. An example of this argument would be
[“cat”, “/tmp/healthy”]</p></li>
<li><p><strong>serving_container_health_probe_period_seconds</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Optional. How often (in seconds) to perform the health probe.
Default to 10 seconds. Minimum value is 1.</p></li>
<li><p><strong>serving_container_health_probe_timeout_seconds</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Optional. Number of seconds after which the health probe times
out. Defaults to 1 second. Minimum value is 1.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://python.readthedocs.io/en/latest/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">serving_container_spec</span></code> is specified but <code class="docutils literal notranslate"><span class="pre">serving_container_spec.image_uri</span></code>
    is <code class="docutils literal notranslate"><span class="pre">None</span></code>. Also if <code class="docutils literal notranslate"><span class="pre">serving_container_spec</span></code> is None but <code class="docutils literal notranslate"><span class="pre">serving_container_image_uri</span></code> is
    <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalModel.build_cpr_model">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_cpr_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_dir:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_image_uri:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictor:</span> <span class="pre">~typing.Optional[~typing.Type[~google.cloud.aiplatform.prediction.predictor.Predictor]]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handler:</span> <span class="pre">~typing.Type[~google.cloud.aiplatform.prediction.handler.Handler]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'google.cloud.aiplatform.prediction.handler.PredictionHandler'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_image:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'python:3.10'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requirements_path:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_packages:</span> <span class="pre">~typing.Optional[~typing.List[str]]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_cache:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#google.cloud.aiplatform.prediction.LocalModel" title="google.cloud.aiplatform.prediction.local_model.LocalModel"><span class="pre">LocalModel</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_model.html#LocalModel.build_cpr_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalModel.build_cpr_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a local model from a custom predictor.</p>
<p>This method builds a docker image to include user-provided predictor, and handler.</p>
<p>Sample <code class="docutils literal notranslate"><span class="pre">src_dir</span></code> contents (e.g. <code class="docutils literal notranslate"><span class="pre">./user_src_dir</span></code>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">user_src_dir</span><span class="o">/</span>
<span class="o">|--</span> <span class="n">predictor</span><span class="o">.</span><span class="n">py</span>
<span class="o">|--</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
<span class="o">|--</span> <span class="n">user_code</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">utils</span><span class="o">.</span><span class="n">py</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">custom_package</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="o">...</span>
<span class="o">|--</span> <span class="o">...</span>
</pre></div>
</div>
<p>To build a custom container:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>local_model = LocalModel.build_cpr_model(
    &quot;./user_src_dir&quot;,
    &quot;us-docker.pkg.dev/$PROJECT/$REPOSITORY/$IMAGE_NAME$&quot;,
    predictor=$CUSTOM_PREDICTOR_CLASS,
    requirements_path=&quot;./user_src_dir/requirements.txt&quot;,
    extra_packages=[&quot;./user_src_dir/user_code/custom_package.tar.gz&quot;],
)
</pre></div>
</div>
<p>In the built image, user provided files will be copied as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">container_workdir</span><span class="o">/</span>
<span class="o">|--</span> <span class="n">predictor</span><span class="o">.</span><span class="n">py</span>
<span class="o">|--</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
<span class="o">|--</span> <span class="n">user_code</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">utils</span><span class="o">.</span><span class="n">py</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">custom_package</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="o">...</span>
<span class="o">|--</span> <span class="o">...</span>
</pre></div>
</div>
<p>To exclude files and directories from being copied into the built container images, create a
<code class="docutils literal notranslate"><span class="pre">.dockerignore</span></code> file in the <code class="docutils literal notranslate"><span class="pre">src_dir</span></code>. See
<a class="reference external" href="https://docs.docker.com/engine/reference/builder/#dockerignore-file">https://docs.docker.com/engine/reference/builder/#dockerignore-file</a> for more details about
usage.</p>
<p>In order to save and restore class instances transparently with Pickle, the class definition
must be importable and live in the same module as when the object was stored. If you want to
use Pickle, you must save your objects right under the <code class="docutils literal notranslate"><span class="pre">src_dir</span></code> you provide.</p>
<p>The created CPR images default the number of model server workers to the number of cores.
Depending on the characteristics of your model, you may need to adjust the number of workers.
You can set the number of workers with the following environment variables:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">VERTEX_CPR_WEB_CONCURRENCY</span><span class="p">:</span>
    <span class="n">The</span> <span class="n">number</span> <span class="n">of</span> <span class="n">the</span> <span class="n">workers</span><span class="o">.</span> <span class="n">This</span> <span class="n">will</span> <span class="n">overwrite</span> <span class="n">the</span> <span class="n">number</span> <span class="n">calculated</span> <span class="n">by</span> <span class="n">the</span> <span class="n">other</span>
    <span class="n">variables</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">VERTEX_CPR_WORKERS_PER_CORE</span> <span class="o">*</span> <span class="n">number_of_cores</span><span class="p">,</span> <span class="n">VERTEX_CPR_MAX_WORKERS</span><span class="p">)</span><span class="o">.</span>
<span class="n">VERTEX_CPR_WORKERS_PER_CORE</span><span class="p">:</span>
    <span class="n">The</span> <span class="n">number</span> <span class="n">of</span> <span class="n">the</span> <span class="n">workers</span> <span class="n">per</span> <span class="n">core</span><span class="o">.</span> <span class="n">The</span> <span class="n">default</span> <span class="ow">is</span> <span class="mf">1.</span>
<span class="n">VERTEX_CPR_MAX_WORKERS</span><span class="p">:</span>
    <span class="n">The</span> <span class="n">maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">workers</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">given</span> <span class="n">the</span> <span class="n">value</span> <span class="n">of</span> <span class="n">VERTEX_CPR_WORKERS_PER_CORE</span>
    <span class="ow">and</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">cores</span><span class="o">.</span>
</pre></div>
</div>
<p>If you hit the error showing “model server container out of memory” when you deploy models
to endpoints, you should decrease the number of workers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_dir</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Required. The path to the local directory including all needed files such as
predictor. The whole directory will be copied to the image.</p></li>
<li><p><strong>output_image_uri</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Required. The image uri of the built image.</p></li>
<li><p><strong>predictor</strong> (<a class="reference internal" href="../aiplatform_v1/types_.html#google.cloud.aiplatform_v1.types.Event.Type" title="google.cloud.aiplatform_v1.types.Event.Type"><em>Type</em></a><em>[</em><a class="reference internal" href="#google.cloud.aiplatform.prediction.Predictor" title="google.cloud.aiplatform.prediction.Predictor"><em>Predictor</em></a><em>]</em>) – Optional. The custom predictor class consumed by handler to do prediction.</p></li>
<li><p><strong>handler</strong> (<a class="reference internal" href="../aiplatform_v1/types_.html#google.cloud.aiplatform_v1.types.Event.Type" title="google.cloud.aiplatform_v1.types.Event.Type"><em>Type</em></a><em>[</em><a class="reference internal" href="#google.cloud.aiplatform.prediction.Handler" title="google.cloud.aiplatform.prediction.Handler"><em>Handler</em></a><em>]</em>) – Required. The handler class to handle requests in the model server.</p></li>
<li><p><strong>base_image</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Required. The base image used to build the custom images. The base image must
have python and pip installed where the two commands <code class="docutils literal notranslate"><span class="pre">python</span></code> and <code class="docutils literal notranslate"><span class="pre">pip</span></code> must be
available.</p></li>
<li><p><strong>requirements_path</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The path to the local requirements.txt file. This file will be copied
to the image and the needed packages listed in it will be installed.</p></li>
<li><p><strong>extra_packages</strong> (<em>List</em><em>[</em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Optional. The list of user custom dependency packages to install.</p></li>
<li><p><strong>no_cache</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Required. Do not use cache when building the image. Using build cache usually
reduces the image building time. See
<a class="reference external" href="https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#leverage-build-cache">https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#leverage-build-cache</a>
for more details.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instantiated representation of the local model.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>local model</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://python.readthedocs.io/en/latest/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If handler is <code class="docutils literal notranslate"><span class="pre">None</span></code> or if handler is <code class="docutils literal notranslate"><span class="pre">PredictionHandler</span></code> but predictor is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalModel.copy_image">
<span class="sig-name descname"><span class="pre">copy_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dst_image_uri</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#google.cloud.aiplatform.prediction.LocalModel" title="google.cloud.aiplatform.prediction.local_model.LocalModel"><span class="pre">LocalModel</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_model.html#LocalModel.copy_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalModel.copy_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies the image to another image uri.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dst_image_uri</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The destination image uri to copy the image to.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instantiated representation of the local model with the copied
image.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>local model</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>DockerError</strong> – If the command fails.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalModel.deploy_to_local_endpoint">
<span class="sig-name descname"><span class="pre">deploy_to_local_endpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artifact_uri</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credential_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu_device_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.List" title="(in Python v3.7)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu_capabilities</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.List" title="(in Python v3.7)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.List" title="(in Python v3.7)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_ready_timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_ready_check_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#google.cloud.aiplatform.prediction.LocalEndpoint" title="google.cloud.aiplatform.prediction.local_endpoint.LocalEndpoint"><span class="pre">LocalEndpoint</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_model.html#LocalModel.deploy_to_local_endpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalModel.deploy_to_local_endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Deploys the local model instance to a local endpoint.</p>
<p>An environment variable, <code class="docutils literal notranslate"><span class="pre">GOOGLE_CLOUD_PROJECT</span></code>, will be set to the project in the global config.
This is required if the credentials file does not have project specified and used to
recognize the project by the Cloud Storage client.</p>
<p>Example 1:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">local_model</span><span class="o">.</span><span class="n">deploy_to_local_endpoint</span><span class="p">(</span>
    <span class="n">artifact_uri</span><span class="o">=</span><span class="s2">&quot;gs://path/to/your/model&quot;</span><span class="p">,</span>
    <span class="n">credential_path</span><span class="o">=</span><span class="s2">&quot;local/path/to/your/credentials&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="k">as</span> <span class="n">local_endpoint</span><span class="p">:</span>
    <span class="n">health_check_response</span> <span class="o">=</span> <span class="n">local_endpoint</span><span class="o">.</span><span class="n">run_health_check</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">health_check_response</span><span class="p">,</span> <span class="n">health_check_response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

    <span class="n">predict_response</span> <span class="o">=</span> <span class="n">local_endpoint</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
        <span class="n">request</span><span class="o">=</span><span class="s1">&#39;{&quot;instances&quot;: [[1, 2, 3, 4]]}&#39;</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;header-key&quot;</span><span class="p">:</span> <span class="s2">&quot;header-value&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">predict_response</span><span class="p">,</span> <span class="n">predict_response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

    <span class="n">local_endpoint</span><span class="o">.</span><span class="n">print_container_logs</span><span class="p">()</span>
</pre></div>
</div>
<p>Example 2:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">local_endpoint</span> <span class="o">=</span> <span class="n">local_model</span><span class="o">.</span><span class="n">deploy_to_local_endpoint</span><span class="p">(</span>
    <span class="n">artifact_uri</span><span class="o">=</span><span class="s2">&quot;gs://path/to/your/model&quot;</span><span class="p">,</span>
    <span class="n">credential_path</span><span class="o">=</span><span class="s2">&quot;local/path/to/your/credentials&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">local_endpoint</span><span class="o">.</span><span class="n">serve</span><span class="p">()</span>

<span class="n">health_check_response</span> <span class="o">=</span> <span class="n">local_endpoint</span><span class="o">.</span><span class="n">run_health_check</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">health_check_response</span><span class="p">,</span> <span class="n">health_check_response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

<span class="n">predict_response</span> <span class="o">=</span> <span class="n">local_endpoint</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
    <span class="n">request</span><span class="o">=</span><span class="s1">&#39;{&quot;instances&quot;: [[1, 2, 3, 4]]}&#39;</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;header-key&quot;</span><span class="p">:</span> <span class="s2">&quot;header-value&quot;</span><span class="p">},</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">predict_response</span><span class="p">,</span> <span class="n">predict_response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

<span class="n">local_endpoint</span><span class="o">.</span><span class="n">print_container_logs</span><span class="p">()</span>
<span class="n">local_endpoint</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>artifact_uri</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The path to the directory containing the Model artifact and any of its
supporting files. The path is either a GCS uri or the path to a local directory.
If this parameter is set to a GCS uri:
(1) <code class="docutils literal notranslate"><span class="pre">credential_path</span></code> must be specified for local prediction.
(2) The GCS uri will be passed directly to <code class="docutils literal notranslate"><span class="pre">Predictor.load</span></code>.
If this parameter is a local directory:
(1) The directory will be mounted to a default temporary model path.
(2) The mounted path will be passed to <code class="docutils literal notranslate"><span class="pre">Predictor.load</span></code>.</p></li>
<li><p><strong>credential_path</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The path to the credential key that will be mounted to the container.
If it’s unset, the environment variable, <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code>, will
be used if set.</p></li>
<li><p><strong>host_port</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The port on the host that the port, <code class="docutils literal notranslate"><span class="pre">AIP_HTTP_PORT</span></code>, inside the container
will be exposed as. If it’s unset, a random host port will be assigned.</p></li>
<li><p><strong>gpu_count</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Optional. Number of devices to request. Set to -1 to request all available devices.
To use GPU, set either <code class="docutils literal notranslate"><span class="pre">gpu_count</span></code> or <code class="docutils literal notranslate"><span class="pre">gpu_device_ids</span></code>.
The default value is -1 if <code class="docutils literal notranslate"><span class="pre">gpu_capabilities</span></code> is set but both <code class="docutils literal notranslate"><span class="pre">gpu_count</span></code> and
<code class="docutils literal notranslate"><span class="pre">gpu_device_ids</span></code> are not set.</p></li>
<li><p><strong>gpu_device_ids</strong> (<em>List</em><em>[</em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Optional. This parameter corresponds to <code class="docutils literal notranslate"><span class="pre">NVIDIA_VISIBLE_DEVICES</span></code> in the NVIDIA
Runtime.
To use GPU, set either <code class="docutils literal notranslate"><span class="pre">gpu_count</span></code> or <code class="docutils literal notranslate"><span class="pre">gpu_device_ids</span></code>.</p></li>
<li><p><strong>gpu_capabilities</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em><em>]</em>) – Optional. This parameter corresponds to <code class="docutils literal notranslate"><span class="pre">NVIDIA_DRIVER_CAPABILITIES</span></code> in the NVIDIA
Runtime. The outer list acts like an OR, and each sub-list acts like an AND. The
driver will try to satisfy one of the sub-lists.
Available capabilities for the NVIDIA driver can be found in
<a class="reference external" href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/user-guide.html#driver-capabilities">https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/user-guide.html#driver-capabilities</a>.
The default value is <code class="docutils literal notranslate"><span class="pre">[[&quot;utility&quot;,</span> <span class="pre">&quot;compute&quot;]]</span></code> if <code class="docutils literal notranslate"><span class="pre">gpu_count</span></code> or <code class="docutils literal notranslate"><span class="pre">gpu_device_ids</span></code> is
set.</p></li>
<li><p><strong>container_ready_timeout</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Optional. The timeout in second used for starting the container or succeeding the
first health check.</p></li>
<li><p><strong>container_ready_check_interval</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Optional. The time interval in second to check if the container is ready or the
first health check succeeds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A the local endpoint object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalModel.get_serving_container_spec">
<span class="sig-name descname"><span class="pre">get_serving_container_spec</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../aiplatform_v1/types_.html#google.cloud.aiplatform_v1.types.ModelContainerSpec" title="google.cloud.aiplatform_v1.types.model.ModelContainerSpec"><span class="pre">ModelContainerSpec</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_model.html#LocalModel.get_serving_container_spec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalModel.get_serving_container_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the container spec for the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The serving container spec of this local model instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalModel.pull_image_if_not_exists">
<span class="sig-name descname"><span class="pre">pull_image_if_not_exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_model.html#LocalModel.pull_image_if_not_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalModel.pull_image_if_not_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls the image if the image does not exist locally.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>DockerError</strong> – If the command fails.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.LocalModel.push_image">
<span class="sig-name descname"><span class="pre">push_image</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/constants.html#None" title="(in Python v3.7)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/local_model.html#LocalModel.push_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.LocalModel.push_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Pushes the image to a registry.</p>
<p>If you hit permission errors while calling this function, please refer to
<a class="reference external" href="https://cloud.google.com/artifact-registry/docs/docker/authentication">https://cloud.google.com/artifact-registry/docs/docker/authentication</a> to set
up the authentication.</p>
<p>For Artifact Registry, the repository must be created before you are able to
push images to it. Otherwise, you will hit the error, “Repository {REPOSITORY} not found”.
To create Artifact Registry repositories, use UI or call the following gcloud command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gcloud<span class="w"> </span>artifacts<span class="w"> </span>repositories<span class="w"> </span>create<span class="w"> </span><span class="o">{</span>REPOSITORY<span class="o">}</span><span class="w">                 </span>--project<span class="w"> </span><span class="o">{</span>PROJECT<span class="o">}</span><span class="w">                 </span>--location<span class="w"> </span><span class="o">{</span>REGION<span class="o">}</span><span class="w">                 </span>--repository-format<span class="w"> </span>docker
</pre></div>
</div>
<p>See <a class="reference external" href="https://cloud.google.com/artifact-registry/docs/manage-repos#create">https://cloud.google.com/artifact-registry/docs/manage-repos#create</a> for more details.</p>
<p>If you hit a “Permission artifactregistry.repositories.uploadArtifacts denied” error,
set up authentication for Docker.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gcloud<span class="w"> </span>auth<span class="w"> </span>configure-docker<span class="w"> </span><span class="o">{</span>REPOSITORY<span class="o">}</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://cloud.google.com/artifact-registry/docs/docker/authentication">https://cloud.google.com/artifact-registry/docs/docker/authentication</a> for mode details.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://python.readthedocs.io/en/latest/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the image uri is not a container registry or artifact registry
    uri.</p></li>
<li><p><strong>DockerError</strong> – If the command fails.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.PredictionHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">google.cloud.aiplatform.prediction.</span></span><span class="sig-name descname"><span class="pre">PredictionHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artifacts_uri</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Type" title="(in Python v3.7)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#google.cloud.aiplatform.prediction.Predictor" title="google.cloud.aiplatform.prediction.predictor.Predictor"><span class="pre">Predictor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/handler.html#PredictionHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.PredictionHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.aiplatform.prediction.Handler" title="google.cloud.aiplatform.prediction.handler.Handler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Handler</span></code></a></p>
<p>Default prediction handler for the prediction requests sent to the application.</p>
<p>Initializes a Handler instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>artifacts_uri</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Required. The value of the environment variable AIP_STORAGE_URI.</p></li>
<li><p><strong>predictor</strong> (<a class="reference internal" href="../aiplatform_v1/types_.html#google.cloud.aiplatform_v1.types.Event.Type" title="google.cloud.aiplatform_v1.types.Event.Type"><em>Type</em></a><em>[</em><a class="reference internal" href="#google.cloud.aiplatform.prediction.Predictor" title="google.cloud.aiplatform.prediction.Predictor"><em>Predictor</em></a><em>]</em>) – Optional. The Predictor class this handler uses to initiate predictor
instance if given.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://python.readthedocs.io/en/latest/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If predictor is None.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.PredictionHandler.handle">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/handler.html#PredictionHandler.handle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.PredictionHandler.handle" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles a prediction request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> (<em>Request</em>) – Required. The prediction request sent to the application.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response of the prediction request.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>HTTPException</strong> – If any exception is thrown from predictor object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.Predictor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">google.cloud.aiplatform.prediction.</span></span><span class="sig-name descname"><span class="pre">Predictor</span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/predictor.html#Predictor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.Predictor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://python.readthedocs.io/en/latest/library/abc.html#abc.ABC" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Interface of the Predictor class for Custom Prediction Routines.</p>
<p>The Predictor is responsible for the ML logic for processing a prediction request.
Specifically, the Predictor must define:
(1) How to load all model artifacts used during prediction into memory.
(2) The logic that should be executed at predict time.</p>
<p>When using the default <code class="docutils literal notranslate"><span class="pre">PredictionHandler</span></code>, the <code class="docutils literal notranslate"><span class="pre">Predictor</span></code> will be invoked as
follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">predictor</span><span class="o">.</span><span class="n">postprocess</span><span class="p">(</span><span class="n">predictor</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">predictor</span><span class="o">.</span><span class="n">preprocess</span><span class="p">(</span><span class="n">prediction_input</span><span class="p">)))</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.Predictor.load">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artifacts_uri</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/constants.html#None" title="(in Python v3.7)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/predictor.html#Predictor.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.Predictor.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the model artifact.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>artifacts_uri</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Required. The value of the environment variable AIP_STORAGE_URI.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.Predictor.postprocess">
<span class="sig-name descname"><span class="pre">postprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prediction_results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/predictor.html#Predictor.postprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.Predictor.postprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Postprocesses the prediction results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prediction_results</strong> (<em>Any</em>) – Required. The prediction results.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The postprocessed prediction results.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.Predictor.predict">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/predictor.html#Predictor.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.Predictor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs prediction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>instances</strong> (<em>Any</em>) – Required. The instance(s) used for performing prediction.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Prediction results.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.Predictor.preprocess">
<span class="sig-name descname"><span class="pre">preprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prediction_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/predictor.html#Predictor.preprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.Predictor.preprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocesses the prediction input before doing the prediction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prediction_input</strong> (<em>Any</em>) – Required. The prediction input that needs to be preprocessed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The preprocessed prediction input.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.Serializer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">google.cloud.aiplatform.prediction.</span></span><span class="sig-name descname"><span class="pre">Serializer</span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/serializer.html#Serializer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.Serializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://python.readthedocs.io/en/latest/library/abc.html#abc.ABC" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Interface to implement serialization and deserialization for prediction.</p>
<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.Serializer.deserialize">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">deserialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/serializer.html#Serializer.deserialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.Serializer.deserialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserializes the request data. Invoked before predict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>Any</em>) – Required. The request data sent to the application.</p></li>
<li><p><strong>content_type</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The specified content type of the request.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="google.cloud.aiplatform.prediction.Serializer.serialize">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">serialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prediction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">accept</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Optional" title="(in Python v3.7)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://python.readthedocs.io/en/latest/library/typing.html#typing.Any" title="(in Python v3.7)"><span class="pre">Any</span></a></span></span><a class="reference internal" href="../_modules/google/cloud/aiplatform/prediction/serializer.html#Serializer.serialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#google.cloud.aiplatform.prediction.Serializer.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes the prediction results. Invoked after predict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prediction</strong> (<em>Any</em>) – Required. The generated prediction to be sent back to clients.</p></li>
<li><p><strong>accept</strong> (<a class="reference external" href="https://python.readthedocs.io/en/latest/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional. The specified content type of the response.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">google-cloud-aiplatform</a></h1>



<p class="blurb">Google Cloud Client Libraries for google-cloud-aiplatform</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=googleapis&repo=python-aiplatform&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../vertexai/services.html">Vertex AI SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="services.html">Google Cloud Aiplatform SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="types.html">Types for Google Cloud Aiplatform SDK API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Custom Prediction Routine and Local Predict</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aiplatform_v1/services.html">Services for Google Cloud Aiplatform v1 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aiplatform_v1/types.html">Types for Google Cloud Aiplatform v1 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aiplatform_v1beta1/services.html">Services for Google Cloud Aiplatform v1beta1 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aiplatform_v1beta1/types.html">Types for Google Cloud Aiplatform v1beta1 API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="definition_v1beta1.html" title="previous chapter">Types for Google Cloud Aiplatform V1beta1 Schema Trainingjob Definition v1beta1 API</a></li>
      <li>Next: <a href="../aiplatform_v1/services.html" title="next chapter">Services for Google Cloud Aiplatform v1 API</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2019, Google.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/aiplatform/prediction.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/googleapis/python-aiplatform" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>